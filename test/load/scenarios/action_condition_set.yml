
imports:
  - module: ./test/load/sources/fake_source
    source: fakeSource 
  - module: ./devices/device
    device: device

sources:
  - testSource:
      type: fakeSource 
      required-parameter: something
  
devices:
 - the_device: 
     type: device
     source: testSource
     name: the_device

scenarios:
  - scenario:
      trigger: 
        state: the_device   
      condition:
        - first_condition: !!js/function 'function f(callback) {
         callback(null, this.msg.newValue == 1 || this.msg.newValue == 2);
      } ' 
        - second_condition: !!js/function 'function f(callback) {
         callback(null, this.msg.newValue == 2);
      } ' 
      action:
        - !!js/function 'function(callback) {
            assert.equal(this.msg.newValue, 2);
            this.actionDone();
            callback(null);
          }'

